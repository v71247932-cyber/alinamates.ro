<!DOCTYPE html>
<html lang="ro">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chestionar - Alina MateÈ™</title>
    <link rel="stylesheet" href="../style.css">
    <style>
        .questionnaire-container {
            max-width: 800px;
            margin: 150px auto 80px;
            padding: 40px;
            background: var(--background-white);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        }

        .question-group {
            margin-bottom: 35px;
            padding-bottom: 25px;
            border-bottom: 1px solid var(--secondary-color);
        }

        .question-group:last-child {
            border-bottom: none;
        }

        .question-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 15px;
            display: block;
        }

        .options-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option-item {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }

        .form-control-text {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--secondary-color);
            border-radius: 8px;
            font-family: var(--font-body);
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-control-text:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(213, 189, 153, 0.2);
        }

        textarea.form-control-text {
            min-height: 100px;
            resize: vertical;
        }

        .matrix-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        .matrix-table th,
        .matrix-table td {
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid var(--secondary-color);
        }

        .matrix-table th:first-child,
        .matrix-table td:first-child {
            text-align: left;
        }

        .matrix-header {
            font-size: 0.9rem;
            color: var(--text-light);
            font-weight: 600;
        }

        .submit-container {
            text-align: center;
            margin-top: 40px;
        }

        .optional-badge {
            display: inline-block;
            padding: 4px 12px;
            background: var(--accent-color);
            color: var(--primary-color);
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 15px;
        }

        @media (max-width: 768px) {
            .questionnaire-container {
                margin-top: 100px;
                padding: 20px;
            }

            .matrix-table {
                display: block;
                overflow-x: auto;
            }
        }
    </style>
    <link rel="icon" type="image/png" href="../assets/favicon.png">
</head>

<body>
    <header id="header-placeholder" class="header">
        <div class="container header-container">
            <a href="../index.html" class="logo">
                <img src="../assets/logo.png" alt="Alina Mates Logo">
            </a>
            <nav class="nav" id="nav-menu">
                <ul class="nav-list">
                    <li><a href="../index.html#home" class="nav-link" data-hash="#home">Home</a></li>
                    <li><a href="../despre.html" class="nav-link" data-page="despre.html">Despre</a></li>
                    <li><a href="../servicii.html" class="nav-link" data-page="servicii.html">Servicii</a></li>
                    <li><a href="../produse.html" class="nav-link" data-page="produse.html">Tarife</a></li>
                    <li><a href="../index.html#contact" class="nav-link" data-hash="#contact">Contact</a></li>
                </ul>
            </nav>
            <a href="../index.html#programeaza" class="btn btn-primary">ÃŽncepe azi</a>
            <div class="hamburger">
                <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                    <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
                </svg>
            </div>
        </div>
    </header>

    <main class="container">
        <div class="questionnaire-container">
            <div class="text-center">
                <span class="optional-badge">OPÈšIONAL</span>
                <h1 class="section-title">Chestionar Preliminar</h1>
                <p class="section-subtitle">RÄƒspunsurile tale mÄƒ vor ajuta sÄƒ pregÄƒtesc prima È™edinÈ›Äƒ Ã®ntr-un mod cÃ¢t
                    mai potrivit pentru tine.</p>
            </div>

            <form id="detailedQuestionnaire">

                <!-- 1. Motivul principal -->
                <div class="question-group">
                    <label class="question-title">1. Care este principalul motiv pentru care ai ales sÄƒ Ã®ncepi
                        consilierea acum?</label>
                    <textarea name="q1_motiv" class="form-control-text" placeholder="RÄƒspunsul tÄƒu..."></textarea>
                </div>

                <!-- 2. Dificultati -->
                <div class="question-group">
                    <label class="question-title">2. Cu ce dificultÄƒÈ›i te confrunÈ›i Ã®n prezent? (poÈ›i bifa mai
                        multe)</label>
                    <div class="options-list">
                        <label class="option-item"><input type="checkbox" name="q2_dificultati"
                                value="Stres / anxietate"> Stres / anxietate</label>
                        <label class="option-item"><input type="checkbox" name="q2_dificultati"
                                value="TristeÈ›e / lipsÄƒ de motivaÈ›ie"> TristeÈ›e / lipsÄƒ de motivaÈ›ie</label>
                        <label class="option-item"><input type="checkbox" name="q2_dificultati"
                                value="Probleme de relaÈ›ie"> Probleme de relaÈ›ie (cuplu, familie, prieteni)</label>
                        <label class="option-item"><input type="checkbox" name="q2_dificultati"
                                value="StimÄƒ de sine scÄƒzutÄƒ"> StimÄƒ de sine scÄƒzutÄƒ</label>
                        <label class="option-item"><input type="checkbox" name="q2_dificultati" value="Burnout"> Burnout
                            / probleme legate de muncÄƒ</label>
                        <label class="option-item"><input type="checkbox" name="q2_dificultati"
                                value="DificultÄƒÈ›i de adaptare"> DificultÄƒÈ›i de adaptare / schimbÄƒri majore de
                            viaÈ›Äƒ</label>
                        <div class="option-item"
                            style="display: flex; align-items: center; flex-wrap: wrap; gap: 10px;">
                            <span>Alte dificultÄƒÈ›i:</span>
                            <input type="text" name="q2_alte_dificultati" class="form-control-text"
                                style="flex: 1; min-width: 200px;">
                        </div>
                    </div>
                </div>

                <!-- 3. Durata -->
                <div class="question-group">
                    <label class="question-title">3. De cÃ¢t timp te confrunÈ›i cu aceste dificultÄƒÈ›i?</label>
                    <div class="options-list">
                        <label class="option-item"><input type="radio" name="q3_durata" value="Mai puÈ›in de 1 lunÄƒ"> Mai
                            puÈ›in de 1 lunÄƒ</label>
                        <label class="option-item"><input type="radio" name="q3_durata" value="1â€“6 luni"> 1â€“6
                            luni</label>
                        <label class="option-item"><input type="radio" name="q3_durata" value="6â€“12 luni"> 6â€“12
                            luni</label>
                        <label class="option-item"><input type="radio" name="q3_durata" value="Peste 1 an"> Peste 1
                            an</label>
                    </div>
                </div>

                <!-- 4. Starea generala -->
                <div class="question-group">
                    <label class="question-title">4. Cum ai descrie starea ta generalÄƒ din ultima perioadÄƒ?</label>
                    <div class="options-list">
                        <label class="option-item"><input type="radio" name="q4_stare" value="Foarte bunÄƒ">
                            Foarte bunÄƒ</label>
                        <label class="option-item"><input type="radio" name="q4_stare" value="BunÄƒ"> BunÄƒ</label>
                        <label class="option-item"><input type="radio" name="q4_stare" value="AcceptabilÄƒ">
                            AcceptabilÄƒ</label>
                        <label class="option-item"><input type="radio" name="q4_stare" value="DificilÄƒ">
                            DificilÄƒ</label>
                        <label class="option-item"><input type="radio" name="q4_stare" value="Foarte dificilÄƒ"> Foarte
                            dificilÄƒ</label>
                    </div>
                </div>

                <!-- 5. Experienta anterioara -->
                <div class="question-group">
                    <label class="question-title">5. Ai mai participat anterior la consiliere/psihoterapie?</label>
                    <div class="options-list" id="previousExperienceToggle">
                        <label class="option-item"><input type="radio" name="q6_anterior" value="Da">
                            Da</label>
                        <label class="option-item"><input type="radio" name="q6_anterior" value="Nu"> Nu</label>
                    </div>
                </div>

                <!-- 6. Detalii experienta anterioara (Optional contextual) -->
                <div class="question-group" id="q7_details" style="display: none;">
                    <label class="question-title">6. Ce a fost util È™i ce nu a fost util pentru tine din acea
                        experienÈ›Äƒ?</label>
                    <textarea name="q7_experienta_detalii" class="form-control-text"
                        placeholder="RÄƒspunsul tÄƒu..."></textarea>
                </div>

                <!-- 7. Obiective -->
                <div class="question-group">
                    <label class="question-title">7. Ce È›i-ai dori sÄƒ obÈ›ii Ã®n urma procesului de consiliere?</label>
                    <textarea name="q8_obiective" class="form-control-text" placeholder="RÄƒspunsul tÄƒu..."></textarea>
                </div>

                <!-- 8. Semn imbunatatire -->
                <div class="question-group">
                    <label class="question-title">8. Care ar fi un semn clar pentru tine cÄƒ lucrurile s-au
                        Ã®mbunÄƒtÄƒÈ›it?</label>
                    <textarea name="q9_semn" class="form-control-text" placeholder="RÄƒspunsul tÄƒu..."></textarea>
                </div>

                <!-- 9. Asteptari -->
                <!-- 9. Resurse -->
                <div class="question-group">
                    <label class="question-title">9. Ai persoane de sprijin Ã®n viaÈ›a ta (familie, prieteni)?</label>
                    <div class="options-list">
                        <label class="option-item"><input type="radio" name="q11_sprijin" value="Da">
                            Da</label>
                        <label class="option-item"><input type="radio" name="q11_sprijin" value="ParÈ›ial">
                            ParÈ›ial</label>
                        <label class="option-item"><input type="radio" name="q11_sprijin" value="Nu"> Nu</label>
                    </div>
                </div>

                <div id="questFeedback" class="form-feedback" style="display: none; margin-bottom: 20px;"></div>

                <div class="submit-container">
                    <button type="submit" class="btn btn-primary">Trimite Chestionarul</button>
                    <p style="margin-top: 15px; font-size: 0.9rem; color: var(--text-light);">MulÈ›umesc pentru
                        completare! RÄƒspunsurile tale mÄƒ vor ajuta sÄƒ pregÄƒtesc prima È™edinÈ›Äƒ.</p>
                </div>
            </form>
        </div>
    </main>

    <footer id="contact" class="footer">
        <div class="container footer-content">
            <div class="footer-col">
                <h3>Alina MateÈ™</h3>
                <p>Consilier pentru Dezvoltare PersonalÄƒ</p>
                <div class="social-links">
                    <a href="https://www.facebook.com/profile.php?id=61554120921375" target="_blank"
                        aria-label="Facebook"><svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                            <path
                                d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z" />
                        </svg></a>
                    <a href="https://www.instagram.com/alina_mates_consiliere/" target="_blank"
                        aria-label="Instagram"><svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                            <path
                                d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.981 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z" />
                        </svg></a>
                    <a href="https://wa.me/+40724570927" target="_blank" aria-label="WhatsApp"><svg viewBox="0 0 24 24"
                            width="20" height="20" fill="currentColor">
                            <path
                                d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z" />
                        </svg></a>
                </div>
            </div>
            <div class="footer-col">
                <h3>Contact</h3>
                <p><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"
                        style="vertical-align: middle; margin-right: 5px;">
                        <path
                            d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z" />
                    </svg> 0724 570 927</p>
                <p><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"
                        style="vertical-align: middle; margin-right: 5px;">
                        <path
                            d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" />
                    </svg> <a href="mailto:hello@alinamates.ro">hello@alinamates.ro</a></p>
                <a href="https://www.google.com/maps/@45.7415238,21.2353248,3a,75y,157.59h,91.13t/data=!3m7!1e1!3m5!1s1M60jvyRxO6DlOmtZOy5cA!2e0!6shttps:%2F%2Fstreetviewpixels-pa.googleapis.com%2Fv1%2Fthumbnail%3Fcb_client%3Dmaps_sv.tactile%26w%3D900%26h%3D600%26pitch%3D-1.1287185976818677%26panoid%3D1M60jvyRxO6DlOmtZOy5cA%26yaw%3D157.58700230595477!7i16384!8i8192?entry=ttu&g_ep=EgoyMDI1MTIwOS4wIKXMDSoASAFQAw%3D%3D"
                    target="_blank" class="footer-btn">
                    <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"
                        style="vertical-align: middle; margin-right: 5px;">
                        <path
                            d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" />
                    </svg> str. Memorandului, nr. 96, TimiÈ™oara
                </a>
            </div>
            <div class="footer-col">
                <h3>Link-uri Utile</h3>
                <ul class="footer-links">
                    <li><a href="../termeni-si-conditii.html">Termeni È™i condiÈ›ii</a></li>
                    <li><a href="../politica-de-confidentialitate.html">Politica de confidenÈ›ialitate</a></li>
                    <li><a href="../Politica-Cookie.html">Politica Cookie</a></li>
                    <li><a href="https://anpc.ro/">ANPC</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Alina Mates. Toate drepturile rezervate.</p>
        </div>
    </footer>

    <script src="../script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Toggle q7 based on q6
            const prevExpRadios = document.querySelectorAll('input[name="q6_anterior"]');
            const q7Group = document.getElementById('q7_details');
            prevExpRadios.forEach(r => {
                r.addEventListener('change', (e) => {
                    q7Group.style.display = e.target.value === 'Da' ? 'block' : 'none';
                });
            });

            // Handle Questionnaire Submission
            const questForm = document.getElementById('detailedQuestionnaire');
            const questFeedback = document.getElementById('questFeedback');

            if (questForm) {
                questForm.addEventListener('submit', async (e) => {
                    e.preventDefault();

                    const formData = new FormData(questForm);
                    const data = {};

                    // Handle multi-value fields like checkboxes
                    formData.forEach((value, key) => {
                        if (data[key]) {
                            if (!Array.isArray(data[key])) {
                                data[key] = [data[key]];
                            }
                            data[key].push(value);
                        } else {
                            data[key] = value;
                        }
                    });

                    // Format message for Discord
                    let message = "ðŸ“ **Chestionar Preliminar Nou**\n\n";

                    const questionLabels = {
                        q1_motiv: "1. Motiv principal",
                        q2_dificultati: "2. DificultÄƒÈ›i",
                        q2_alte_dificultati: "2b. Alte dificultÄƒÈ›i",
                        q3_durata: "3. DuratÄƒ difficulties",
                        q4_stare: "4. Stare ta generalÄƒ",
                        q6_anterior: "5. ExperienÈ›Äƒ anterioarÄƒ",
                        q7_experienta_detalii: "6. Detalii exp. anterioarÄƒ",
                        q8_obiective: "7. Obiective",
                        q9_semn: "8. Semn Ã®mbunÄƒtÄƒÈ›ire",
                        q11_sprijin: "9. Persoane sprijin",
                        q10_asteptari: "10. AÈ™teptÄƒri"
                    };

                    for (const [key, label] of Object.entries(questionLabels)) {
                        if (data[key]) {
                            message += `**${label}:** ${Array.isArray(data[key]) ? data[key].join(', ') : data[key]}\n`;
                        }
                    }

                    const submitBtn = questForm.querySelector('button[type="submit"]');
                    submitBtn.disabled = true;
                    submitBtn.textContent = 'Se trimite...';

                    try {
                        // Fetch user's IP address
                        let userIP = 'Unknown';
                        try {
                            const ipResponse = await fetch('https://api.ipify.org?format=json');
                            const ipData = await ipResponse.json();
                            userIP = ipData.ip;
                        } catch (ipError) {
                            console.log('Could not fetch IP:', ipError);
                        }

                        // Add IP to message
                        message += `\n**ðŸŒ IP Address:** ${userIP}\n`;

                        const response = await fetch('https://discord.com/api/webhooks/1454099935594024962/xu6mrgw8mHVrFJpQmdyZ4hgxnTf1t_HMEd2EMix9Gfnbm-QxbT0B6bg8dS4iAPLfqB6F', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({ content: message })
                        });

                        if (response.ok) {
                            questForm.reset();
                            questFeedback.textContent = 'MulÈ›umesc! RÄƒspunsurile tale au fost trimise cu succes.';
                            questFeedback.className = 'form-feedback success';
                            questFeedback.style.display = 'block';
                            window.scrollTo({ top: 0, behavior: 'smooth' });
                            setTimeout(() => {
                                window.location.href = '../index.html';
                            }, 3000);
                        } else {
                            throw new Error('Eroare la trimitere');
                        }
                    } catch (error) {
                        questFeedback.textContent = 'Eroare la trimiterea chestionarului. Te rog Ã®ncearcÄƒ din nou.';
                        questFeedback.className = 'form-feedback error';
                        questFeedback.style.display = 'block';
                    } finally {
                        submitBtn.disabled = false;
                        submitBtn.textContent = 'Trimite Chestionarul';
                    }
                });
            }
        });
    </script>
</body>

</html>